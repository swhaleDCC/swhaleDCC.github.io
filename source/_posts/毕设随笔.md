title: 毕设随笔
author: Dccun
tags:
  - 毕设随笔
categories:
  - 毕设
date: 2019-11-18 21:46:00
---
总结几个在github上找到的关于android恶意代码检测的项目。

<!--more-->

恶 意 代 码 检 测 过 程， 通 常 可 以 分 为 三 个 步 骤： 
①特 征 提 取 与 选 择； 
②选取适当的分类模型； 
③获 取 分 类 结 果． 
其 中 关 键 技 术 就 是 恶 意 代 码 特 征 提 取， 特 征 的 质 量 直 接 影 响 恶 意 代 码 的 检 测 效 果． 目 前提出的基于机器学习的恶意软件分类方法在恶 意 软 件 特 征 提 取 方 法 上 存 在 较 大 差 异．


>[malware_classification_system](https://github.com/BiancaGuo/malware_classification_system)
这个项目没有readme，不知道怎么跑，里面还有html、css代码，还用到了flask_bootstrap包，看起来更像一个网站。

>[MalwareClassification](https://github.com/2015-10-10/MalwareClassification)（这个代码看上去不错，跑一下试试）
gramfeature.csv文件存储特征，分为训练数据和测试数据 
VirusShare.csv和yingyongbao.csv存储数据id和class 
tpr_fpr.py文件为模型检测程序 
.txt文件为ROC曲线实验数据 
plot.py为ROC曲线画图程序
其中，良性样本选自yingyongbao（yingyongbao.csv：class为０），恶性样本选自virusshare（VirusShare.csv：class为１）。还用到了TF-IDF（term frequency–inverse document frequency），一种用于信息检索与数据挖掘的常用加权技术。TF意思是词频(Term Frequency)，IDF意思是逆文本频率指数(Inverse Document Frequency)。

>[MalwareAnalyze](https://github.com/VoldyRCX/MalwareAnalyze)
需要Linux环境,需要安装IDA PRO反汇编软件,需要viper环境 https://github.com/viper-framework/viper.
config.py　环境配置文件
pe_select.py　提取样本中的PE文件
idabatch.pu　ida反汇编批处理
feature.py　特征处理
sequence3.py　提取特征序列
vector_batch.py && vector_batch2.py　向量化批处理
vectoring.py　向量化
train.py　训练集 用于viper平台集成功能
test.py　测试集 用于viper平台集成功能
ml.py　训练模型 用于viper平台集成功能

>[ToyMalwareClassification](https://github.com/bindog/ToyMalwareClassification)
Kaggle微软恶意代码分类
比赛说明和数据下载 https://www.kaggle.com/c/malware-classification/
代码说明
randomsubset.py 抽取训练子集
asmimage.py ASM文件图像纹理特征
opcode_n-gram.py Opcode n-gram特征
firstrandomforest.py 基于ASM文件图像纹理特征的随机森林
secondrandomforest.py 基于Opcode n-gram特征特征的随机森林
combine.py 将两种类型的特征结合
运行说明
将完整的训练数据集解压，修改randomsubset.py中的路径并运行
修改asmimage.py和opcode_n-gram.py中的路径，并运行run.sh，耐心等待即可看到结果

>[Software-system-security](https://github.com/UP1998/Software-system-security)
[md](https://github.com/UP1998/Software-system-security/blob/master/%E5%A4%A7%E4%BD%9C%E4%B8%9A/%E8%BD%AF%E4%BB%B6%E4%B8%8E%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E5%A4%A7%E4%BD%9C%E4%B8%9A.md)
用于提交软件与系统安全实验和最终大作业
通过修改程序可执行文件的方式（不是修改源代码），使得程序运行后显示的内容不为hello world，变成 hello cuc！
上一题的程序中，修改的显示内容变为一个很长的字符串（至少2kb长）。并且保证程序正常运行不崩溃。
在notepad（32位64位均可）中，输入一段文字。然后使用调试器，在内存中修改这段文字。使得没有在界面操作notepad的修改文字的情况下。notepad中显示的文字变化。
通过调试器监控计算器程序的运行，每当运行结果为666时，就改为999。
通过API hook的方法，在每次notepad保存txt文件时，就将文件内容修改为： “you have been hacked!”
通过API hook的方法，使得cmd的dir命令看不到任意目录下的hacker.exe

>[software_security](https://github.com/shielding/software_security)

>[Android](https://github.com/flame0409/Android)
基于opcode的N-gram安卓恶意软件检测

***
下面是我已经运行成功的几个code，已经push到我的github上了，都在readme中注明了出处。

### [AndroidMalwareN-gram](https://github.com/swhaleDCC/AndroidMalwareN-gram)
这个代码实现的主要功能是：反汇编——特征提取（提取出smali文件的dalvik指令）——n-gram
这个代码并没有用机器学习算法实现恶意代码检测，只是提取了android的smali文件的特征码。